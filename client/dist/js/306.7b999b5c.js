"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[306],{1054:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("h1",[e._v("Register as "+e._s(e.userProfile.username))]),s("v-col",[s("ConnectedUsers",{attrs:{users:e.onlineUsers},on:{"update:users":function(t){e.onlineUsers=t}}})],1)],1),s("MessagesChat",{attrs:{chat:e.chat},on:{"update:chat":function(t){e.chat=t}}}),e.someoneTyping?s("vue-typer",{attrs:{text:"Someone is writting..."}}):e._e(),s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.sendMessage.apply(null,arguments)}}},[s("v-footer",{attrs:{padless:"",absolute:""}},[s("v-container",[s("v-row",[s("v-text-field",{attrs:{outlined:"",filled:"","auto-grow":"",label:"Send a Message",placeholder:"Aa"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("v-btn",{attrs:{depressed:"",color:"primary",type:"submit"}},[e._v(" Send ")])],1)],1),s("v-col",{staticClass:"text-center",attrs:{cols:"12"}})],1)],1)],1)},o=[],a=s(2029),i=s(1289),l=s(3354),r={name:"ChatPage",components:{MessagesChat:a.Z,VueTyper:l.VueTyper,ConnectedUsers:i.Z},data(){return{username:"You",userProfile:{},socket:{},chat:[],message:"",onlineUsers:[],isTyping:!1,someoneTyping:!1,lastTypingTime:new Date,TYPING_TIMER_LENGTH:400,messageRules:[e=>!!e||"Message can't be empty"]}},created(){this.socket=this.$store.state.socket},mounted(){this.socket.on("message",(e=>{this.chat.push(e)})),this.socket.on("typing",(e=>{console.log(e),this.someoneTyping=!0})),this.socket.on("stop typing",(e=>{console.log(e),this.someoneTyping=!1})),this.socket.on("online users",(e=>{this.onlineUsers=e}))},watch:{message(){this.updateTyping()}},methods:{sendMessage(){""!=this.message&&(this.socket.emit("message",this.message),this.chat.push({username:this.username,message:this.message}),this.message="")},updateTyping(){!1===this.isTyping&&(this.isTyping=!0,this.socket.emit("typing"),console.log("typing")),this.lastTypingTime=(new Date).getTime(),setTimeout((()=>{const e=(new Date).getTime(),t=e-this.lastTypingTime;t>=this.TYPING_TIMER_LENGTH&&this.isTyping&&(this.socket.emit("stop typing"),this.isTyping=!1)}),this.TYPING_TIMER_LENGTH)}}},u=r,c=s(1001),g=s(3453),d=s.n(g),p=s(6847),f=s(7024),h=s(1819),m=s(7718),y=s(3240),T=s(7894),v=s(2660),b=(0,c.Z)(u,n,o,!1,null,null,null),C=b.exports;d()(b,{VBtn:p.Z,VCol:f.Z,VContainer:h.Z,VFooter:m.Z,VForm:y.Z,VRow:T.Z,VTextField:v.Z})},7024:function(e,t,s){s(7273);var n=s(144),o=s(7559),a=s(8131);const i=["sm","md","lg","xl"],l=(()=>i.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),r=(()=>i.reduce(((e,t)=>(e["offset"+(0,a.jC)(t)]={type:[String,Number],default:null},e)),{}))(),u=(()=>i.reduce(((e,t)=>(e["order"+(0,a.jC)(t)]={type:[String,Number],default:null},e)),{}))(),c={col:Object.keys(l),offset:Object.keys(r),order:Object.keys(u)};function g(e,t,s){let n=e;if(null!=s&&!1!==s){if(t){const s=t.replace(e,"");n+=`-${s}`}return"col"!==e||""!==s&&!0!==s?(n+=`-${s}`,n.toLowerCase()):n.toLowerCase()}}const d=new Map;t["Z"]=n.Z.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...l,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...u,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:s,children:n,parent:a}){let i="";for(const o in t)i+=String(t[o]);let l=d.get(i);if(!l){let e;for(e in l=[],c)c[e].forEach((s=>{const n=t[s],o=g(e,s,n);o&&l.push(o)}));const s=l.some((e=>e.startsWith("col-")));l.push({col:!s||!t.cols,[`col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),d.set(i,l)}return e(t.tag,(0,o.ZP)(s,{class:l}),n)}})},7894:function(e,t,s){s(7273);var n=s(144),o=s(7559),a=s(8131);const i=["sm","md","lg","xl"],l=["start","end","center"];function r(e,t){return i.reduce(((s,n)=>(s[e+(0,a.jC)(n)]=t(),s)),{})}const u=e=>[...l,"baseline","stretch"].includes(e),c=r("align",(()=>({type:String,default:null,validator:u}))),g=e=>[...l,"space-between","space-around"].includes(e),d=r("justify",(()=>({type:String,default:null,validator:g}))),p=e=>[...l,"space-between","space-around","stretch"].includes(e),f=r("alignContent",(()=>({type:String,default:null,validator:p}))),h={align:Object.keys(c),justify:Object.keys(d),alignContent:Object.keys(f)},m={align:"align",justify:"justify",alignContent:"align-content"};function y(e,t,s){let n=m[e];if(null!=s){if(t){const s=t.replace(e,"");n+=`-${s}`}return n+=`-${s}`,n.toLowerCase()}}const T=new Map;t["Z"]=n.Z.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u},...c,justify:{type:String,default:null,validator:g},...d,alignContent:{type:String,default:null,validator:p},...f},render(e,{props:t,data:s,children:n}){let a="";for(const o in t)a+=String(t[o]);let i=T.get(a);if(!i){let e;for(e in i=[],h)h[e].forEach((s=>{const n=t[s],o=y(e,s,n);o&&i.push(o)}));i.push({"no-gutters":t.noGutters,"row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),T.set(a,i)}return e(t.tag,(0,o.ZP)(s,{staticClass:"row",class:i}),n)}})}}]);
//# sourceMappingURL=306.7b999b5c.js.map