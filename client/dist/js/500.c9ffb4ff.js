"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[500],{3500:function(t,e,s){s.r(e),s.d(e,{default:function(){return vt}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",[s("h1",[t._v("Welcome back "+t._s(t.user.name)+" "+t._s(t.user.lastName))]),s("v-spacer"),s("v-col",[s("UserFormDialog",{attrs:{label:"Create a group",mode:1}})],1)],1),s("v-spacer"),s("v-spacer"),s("v-spacer"),s("v-row",[s("v-col",[s("h2",[t._v("Your Groups :")])])],1),s("v-row",[s("GroupsUser")],1)],1)},o=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",[1==t.mode?s("AutoComplete",{attrs:{label:t.label}}):t._e(),2==t.mode?s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[s("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[t._v(" "+t._s(t.label)+" ")])]}}],null,!1,55610249),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h5"},[t._v("User Profile")])]),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Legal first name*",required:""}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Legal middle name",hint:"example of helper text only on focus"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{label:"Legal last name*",hint:"example of persistent helper text","persistent-hint":"",required:""}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Email*",required:""}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Password*",type:"password",required:""}})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-select",{attrs:{items:["0-17","18-29","30-54","54+"],label:"Age*",required:""}})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-autocomplete",{attrs:{items:["Skiing","Ice hockey","Soccer","Basketball","Hockey","Reading","Writing","Coding","Basejump"],label:"Interests",multiple:""}})],1)],1)],1),s("small",[t._v("*indicates required field")])],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Save ")])],1)],1)],1)],1):t._e()],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[s("v-btn",t._g(t._b({attrs:{color:t.group.color,dark:""}},"v-btn",o,!1),i),[t._v(" "+t._s(t.label)+" ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{attrs:{color:t.group.color,dark:"",loading:t.isUpdating},scopedSlots:t._u([{key:"progress",fn:function(){return[s("v-progress-linear",{attrs:{color:"green lighten-3",height:"4",indeterminate:""}})]},proxy:!0}])},[s("v-row",[s("v-row",{staticClass:"pa-4",attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"text-center"},[s("h1",{staticClass:"text-h5"},[t._v(" "+t._s(t.label)+" ")]),s("h3",{staticClass:"text-h5"},[t._v(" "+t._s(t.name)+" ")]),s("span",{staticClass:"grey--text text--lighten-1"},[t._v(t._s(t.title))])])],1)],1),s("v-form",{ref:"form",staticClass:"form-signin",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.createGroup.apply(null,arguments)}}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{disabled:t.isUpdating,rules:t.nameRules,filled:"",required:"",color:"blue-grey lighten-2",label:"Name of the group"},model:{value:t.group.name,callback:function(e){t.$set(t.group,"name",e)},expression:"group.name"}}),s("v-text-field",{attrs:{disabled:t.isUpdating,rules:t.nameRules,filled:"",required:"",color:"blue-grey lighten-2",label:"Description"},model:{value:t.group.description,callback:function(e){t.$set(t.group,"description",e)},expression:"group.description"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("h1",[t._v("Choose a Color "+t._s(t.group.color))]),s("v-color-picker",{attrs:{"dot-size":"25","hide-inputs":"","hide-mode-switch":"",disabled:t.isUpdating,mode:"hexa","swatches-max-height":"200"},model:{value:t.group.color,callback:function(e){t.$set(t.group,"color",e)},expression:"group.color"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-autocomplete",{attrs:{disabled:t.isUpdating,items:t.users,filled:"",chips:"",color:"blue-grey lighten-2",label:"Select users to add to the group",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(s){return t.remove(e.item)}}},"v-chip",e.attrs,!1),[s("v-avatar",{attrs:{left:"",color:e.item.color}},[s("span",{staticClass:"white--text text-h5"},[t._v(t._s(e.item.name[0]))])]),t._v(" "+t._s(e.item.email)+" ")],1)]}},{key:"item",fn:function(e){return["object"!==typeof e.item?[s("v-list-item-content",{domProps:{textContent:t._s(e.item)}})]:[s("v-avatar",{attrs:{left:"",color:e.item.color}},[s("span",{staticClass:"white--text text-h5"},[t._v(t._s(e.item.name[0]))])]),s("v-list-item-content",[s("v-list-item-title",{domProps:{innerHTML:t._s(e.item.email)}}),s("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.item.name+" "+e.item.lastName)}})],1)]]}}]),model:{value:t.group.users,callback:function(e){t.$set(t.group,"users",e)},expression:"group.users"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),s("v-btn",{attrs:{loading:t.isUpdating,color:"blue-grey darken-3",depressed:"",type:"submit"},on:{click:function(e){t.isUpdating=!0}}},[s("v-icon",{attrs:{left:""}},[t._v(" mdi-update ")]),t._v(" Save ")],1)],1)],1)],1),s("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor,right:"",top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[s("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],1)},l=[],c=s(9669),d=s.n(c),u={props:["label"],data(){return{dialog:!1,autoUpdate:!0,isUpdating:!1,snack:!1,snackColor:"",snackText:"",valid:!1,name:"",users:[],title:"",group:{name:"My group",description:"Description of the group",users:[],usersAdmin:[],color:"#448AD1",created_by:"Created by : "},nameRules:[t=>!!t||"This field is required",t=>t.length>=8||"This field is required"]}},watch:{isUpdating(t){this.$refs.form.validate()&&t?setTimeout((()=>this.isUpdating=!1),3e3):this.isUpdating=!1}},created(){this.$store.state.user._id&&d().get(this.$store.state.apiURL+"/user/all/"+this.$store.state.user._id,{headers:{token:localStorage.getItem("token")}}).then((t=>{this.users=t.data}))},computed:{user(){return this.$store.state.user}},methods:{remove(t){const e=this.group.users.indexOf(t);e>=0&&this.group.users.splice(e,1)},async createGroup(){if(this.$refs.form.validate()){this.group.usersAdmin.push(this.user),this.group.created_by="Created by"+this.user.email+" at "+Date.now(),console.log(this.group.users);try{await d().post(this.$store.state.apiURL+"/group",{headers:{token:localStorage.getItem("token")},group:this.group,user:this.user}),this.snack=!0,this.snackColor="succes",this.snackText="Succesfully created Group"}catch(t){console.log(t),console.log(t.response),this.snack=!0,this.snackColor="error",this.snackText="Error has ocured"}}else this.snack=!0,this.snackColor="error",this.snackText="Put the required data"}}},h=u,v=s(1001),p=s(3453),m=s.n(p),g=s(3489),f=s(3811),k=s(6847),b=s(2026),x=s(5255),_=s(5126),C=s(7024),y=s(214),w=s(1819),Z=s(9770),V=s(7561),$=s(4665),S=s(9556),A=s(9975),T=s(2893),E=s(2389),B=s(3664),I=s(5530),U=s(8219),L=s(8131);const D=(0,I.Z)($.Z,S.Z,A.Z,T.Z,E.Z,V.Z);var O=D.extend({name:"v-dialog",directives:{ClickOutside:B.Z},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,U.Jk)("full-width",this)},beforeMount(){this.$nextTick((()=>{this.isBooted=this.isActive,this.isActive&&this.show()}))},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick((()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout((()=>this.animate=!1),150)}))},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):A.Z.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((()=>{this.$nextTick((()=>{this.$refs.content.contains(document.activeElement)||(this.previousActiveElement=document.activeElement,this.$refs.content.focus()),this.bind()}))}))},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===L.Do.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick((()=>t&&t.focus()))}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((t=>t.contains(e)))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),e=[...t].find((t=>!t.hasAttribute("disabled")));e&&e.focus()}},genContent(){return this.showLazyContent((()=>[this.$createElement(Z.Z,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog",tabindex:this.isActive?0:void 0,"aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])]))},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:(0,L.kb)(this.maxWidth),width:(0,L.kb)(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}}),q=s(3240),F=s(4456),M=s(6761),R=s(510),P=s(7894),G=s(4654),j=s(2515),N=s(2660),W=(0,v.Z)(h,r,l,!1,null,null,null),z=W.exports;m()(W,{VAutocomplete:g.Z,VAvatar:f.Z,VBtn:k.Z,VCard:b.Z,VCardActions:x.h7,VChip:_.Z,VCol:C.Z,VColorPicker:y.Z,VContainer:w.Z,VDialog:O,VForm:q.Z,VIcon:F.Z,VListItemContent:M.km,VListItemSubtitle:M.oZ,VListItemTitle:M.V9,VProgressLinear:R.Z,VRow:P.Z,VSnackbar:G.Z,VSpacer:j.Z,VTextField:N.Z});var H={components:{AutoComplete:z},data:()=>({dialog:!1}),props:["label","mode"]},K=H,J=s(3576),Y=(0,v.Z)(K,a,n,!1,null,null,null),Q=Y.exports;m()(Y,{VAutocomplete:g.Z,VBtn:k.Z,VCard:b.Z,VCardActions:x.h7,VCardText:x.ZB,VCardTitle:x.EB,VCol:C.Z,VContainer:w.Z,VDialog:O,VRow:P.Z,VSelect:J.Z,VSpacer:j.Z,VTextField:N.Z});var X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-col",t._l(t.groups,(function(e,i){return s("div",{key:i,staticClass:"mx-auto",attrs:{color:"grey lighten-4","max-width":"600"}},[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var o=i.hover;return[s("v-card",{staticClass:"mx-auto",attrs:{color:"grey lighten-4","max-width":"400"}},[s("v-img",{attrs:{"aspect-ratio":16/9,src:"https://cdn.vuetifyjs.com/images/cards/kitchen.png"}},[s("v-expand-transition",[o?s("v-card",{staticClass:"\n                  d-flex\n                  transition-fast-in-fast-out\n                  darken-2\n                  v-card--reveal\n                  text-h2\n                  white--text\n                  center\n                ",staticStyle:{height:"100%"},attrs:{color:e.color}},[t._v(" "+t._s(e.color)+" ")]):t._e()],1)],1),s("v-card-text",{staticClass:"pt-6",staticStyle:{position:"relative"}},[s("v-btn",{staticClass:"white--text",attrs:{absolute:"",color:e.color,fab:"",large:"",right:"",top:"",to:{name:"group",params:{id:e._id}}}},[s("v-icon",[t._v("mdi-account-group")])],1),s("div",{staticClass:"font-weight-light grey--text text-h6 mb-2"},[t._v("Group")]),s("h3",{staticClass:"text-h4 font-weight-lightmb-2",attrs:{color:e.color}},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"font-weight-light text-h6 mb-2"},[t._v(" "+t._s(e.description)+" ")])],1)],1)]}}],null,!0)})],1)})),0)],1)},tt=[],et={data:()=>({groups:[],show:!1,hover:!1}),created(){d().get(this.$store.state.apiURL+"/group/user/"+this.$store.state.user._id,{headers:{token:localStorage.getItem("token")}}).then((t=>{this.groups=t.data}))}},st=et,it=s(6930),ot=s(1811),at=s(4552),nt=(0,I.Z)(ot.Z,at.Z).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter(){this.runDelay("open")},onMouseLeave(){this.runDelay("close")}},render(){if(!this.$scopedSlots.default&&void 0===this.value)return(0,U.Kd)("v-hover is missing a default scopedSlot or bound value",this),null;let t;return this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):((0,U.Kd)("v-hover should only contain a single element",this),t)}}),rt=s(5288),lt=(0,v.Z)(st,X,tt,!1,null,null,null),ct=lt.exports;m()(lt,{VBtn:k.Z,VCard:b.Z,VCardText:x.ZB,VCol:C.Z,VContainer:w.Z,VExpandTransition:it.Fx,VHover:nt,VIcon:F.Z,VImg:rt.Z});var dt={data(){return{}},components:{UserFormDialog:Q,GroupsUser:ct},computed:{user(){return this.$store.state.user}},created(){null===localStorage.getItem("token")&&this.$router.push("/login")},methods:{logout(){localStorage.clear(),this.$router.push("/login")}}},ut=dt,ht=(0,v.Z)(ut,i,o,!1,null,null,null),vt=ht.exports;m()(ht,{VCol:C.Z,VContainer:w.Z,VRow:P.Z,VSpacer:j.Z})}}]);
//# sourceMappingURL=500.c9ffb4ff.js.map