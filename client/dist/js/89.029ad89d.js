"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[89],{1091:function(e,t,s){s.d(t,{Z:function(){return w}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"mx-auto mt-5 rounded-lg",attrs:{width:"500px",elevation:"12"}},[s("v-container",{staticClass:"pa-7"},[s("v-card-title",{staticClass:"justify-center"},[s("p",{staticClass:"text-h4 text--primary"},[e._v(e._s(e.title))])]),"Register"==e.title?s("v-form",{ref:"form",staticClass:"form-signin",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.userLogin.apply(null,arguments)}}},[s("v-text-field",{attrs:{rules:e.emailRules,type:"email","prepend-icon":"mdi-email",label:"Email",required:"",placeholder:"name.lastname@email.web"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),s("v-text-field",{attrs:{type:"password",label:"Password",required:"","prepend-icon":"mdi-key",rules:e.passwordRules},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("v-btn",{staticClass:"mb-10 mt-3 text-center",attrs:{type:"submit",rounded:"",color:"secondary",light:"",block:""}},[e._v(" Login ")])],1):e._e(),"Login"==e.title?s("v-form",{ref:"form",staticClass:"form-signin",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.userLogin.apply(null,arguments)}}},[s("v-text-field",{attrs:{label:"Email*",rules:e.emailRules,"prepend-icon":"mdi-email",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),s("v-text-field",{attrs:{type:"password",label:"Password",required:"","prepend-icon":"mdi-key",rules:e.passwordRules},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("v-btn",{staticClass:"mb-10 mt-3 text-center",attrs:{type:"submit",rounded:"",color:"secondary",light:"",block:""}},[e._v(" Login ")])],1):e._e()],1),s("v-snackbar",{attrs:{top:"",right:"",timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[s("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",r,!1),[e._v(" Close ")])]}}]),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v(" "+e._s(e.snackText)+" ")])],1)},a=[],n=s(9669),i=s.n(n),l={props:["title"],data:()=>({snack:!1,snackColor:"",snackText:"",valid:!1,user:{email:"",password:""},passwordRules:[e=>!!e||"Password is required",e=>e.length>=8||"Password is required"],emailRules:[e=>!!e||"The email is required",e=>/.+@.+\..+/.test(e)||"Invalid email"]}),methods:{async userLogin(){if(this.$refs.form.validate())try{var e=await i().post("http://localhost:3000/api/user/login",this.user);localStorage.setItem("token",e.data.token),this.$store.commit("setToken",e.data.token),this.$store.commit("updateUser",e.data.user),this.snack=!0,this.snackColor="succes",this.snackText="Succesfully Login",this.$router.go("/home")}catch(t){console.log(t),console.log(t.response),this.snack=!0,this.snackColor="error",this.snackText="User or password wrong"}else this.snack=!0,this.snackColor="error",this.snackText="Put the required data"}}},o=l,c=s(1001),u=s(3453),d=s.n(u),m=s(6847),p=s(2026),f=s(5255),v=s(1819),k=s(3240),h=s(4654),b=s(2660),x=(0,c.Z)(o,r,a,!1,null,null,null),w=x.exports;d()(x,{VBtn:m.Z,VCard:p.Z,VCardTitle:f.EB,VContainer:v.Z,VForm:k.Z,VSnackbar:h.Z,VTextField:b.Z})},89:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("HomeForm",{attrs:{title:"Login"}})],1)},a=[],n=s(1091),i={components:{HomeForm:n.Z}},l=i,o=s(1001),c=s(3453),u=s.n(c),d=s(1819),m=(0,o.Z)(l,r,a,!1,null,null,null),p=m.exports;u()(m,{VContainer:d.Z})},5255:function(e,t,s){s.d(t,{EB:function(){return o},ZB:function(){return l},h7:function(){return n}});var r=s(2026),a=s(8131);const n=(0,a.Ji)("v-card__actions"),i=(0,a.Ji)("v-card__subtitle"),l=(0,a.Ji)("v-card__text"),o=(0,a.Ji)("v-card__title");r.Z}}]);
//# sourceMappingURL=89.029ad89d.js.map