{"ast":null,"code":"import { io } from \"socket.io-client\";\nimport MessagesChat from \"../components/Chat/ChatContainer.vue\";\nimport { VueTyper } from \"vue-typer\";\nexport default {\n  name: \"ChatPage\",\n  components: {\n    MessagesChat: MessagesChat,\n    VueTyper: VueTyper\n  },\n  data: function data() {\n    return {\n      message: \"\",\n      chat: [],\n      socket: {},\n      username: \"You\",\n      isTyping: false,\n      numUsers: 0,\n      valid: false,\n      messageRules: [function (v) {\n        return !!v || \"Message can't be empty\";\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var Socket = io(\"http://localhost:3000\");\n    Socket.on(\"connect\", function () {\n      console.log(\"You connected with id : \".concat(Socket.id));\n    });\n    Socket.on(\"message\", function (msg) {\n      _this.chat.push(msg);\n    }); //Login\n    //Add new user to the chat rooom\n\n    this.socket = Socket;\n  },\n  watch: {\n    // whenever question changes, this function will run\n    message: function message() {\n      this.isTyping = true;\n    },\n    is: is\n  },\n  methods: {\n    sendMessage: function sendMessage() {\n      if (this.message != \"\") {\n        this.socket.emit(\"message\", this.message);\n        this.chat.push({\n          username: this.username,\n          message: this.message\n        });\n        this.message = \"\";\n      }\n    },\n    typing: function typing() {\n      //Emit typing\n      this.isTyping = \"true\"; //this.notTyping();\n    },\n    notTyping: function notTyping() {\n      //Emit typing\n      this.isTyping = \"false\";\n    }\n  }\n};","map":{"version":3,"mappings":"AACA;AACA;AACA;AAEA;AACAA,kBADA;AAEAC;AACAC,8BADA;AAEAC;AAFA,GAFA;AAMAC,MANA,kBAMA;AACA;AACAC,iBADA;AAEAC,cAFA;AAGAC,gBAHA;AAIAC,qBAJA;AAKAC,qBALA;AAMAC,iBANA;AAOAC,kBAPA;AAQAC;AAAA;AAAA;AARA;AAUA,GAjBA;AAkBAC,SAlBA,qBAkBA;AAAA;;AACA;AACAC;AACAC;AACA,KAFA;AAGAD;AACA;AACA,KAFA,EALA,CAQA;AACA;;AAEA;AACA,GA9BA;AA+BAE;AACA;AACAX,WAFA,qBAEA;AACA;AACA,KAJA;AAKAY;AALA,GA/BA;AAsCAC;AACAC,eADA,yBACA;AACA;AACA;AACA;AAAAX;AAAAH;AAAA;AACA;AACA;AACA,KAPA;AAQAe,UARA,oBAQA;AACA;AACA,6BAFA,CAGA;AACA,KAZA;AAaAC,aAbA,uBAaA;AACA;AACA;AACA;AAhBA;AAtCA","names":["name","components","MessagesChat","VueTyper","data","message","chat","socket","username","isTyping","numUsers","valid","messageRules","mounted","Socket","console","watch","is","methods","sendMessage","typing","notTyping"],"sourceRoot":"src/views","sources":["ChatView.vue"],"sourcesContent":["<script>\nimport { io } from \"socket.io-client\";\nimport MessagesChat from \"../components/Chat/ChatContainer.vue\";\nimport { VueTyper } from \"vue-typer\";\n\nexport default {\n  name: \"ChatPage\",\n  components: {\n    MessagesChat,\n    VueTyper,\n  },\n  data() {\n    return {\n      message: \"\",\n      chat: [],\n      socket: {},\n      username: \"You\",\n      isTyping: false,\n      numUsers: 0,\n      valid: false,\n      messageRules: [(v) => !!v || \"Message can't be empty\"],\n    };\n  },\n  mounted() {\n    var Socket = io(\"http://localhost:3000\");\n    Socket.on(\"connect\", () => {\n      console.log(`You connected with id : ${Socket.id}`);\n    });\n    Socket.on(\"message\", (msg) => {\n      this.chat.push(msg);\n    });\n    //Login\n    //Add new user to the chat rooom\n\n    this.socket = Socket;\n  },\n  watch: {\n    // whenever question changes, this function will run\n    message() {\n      this.isTyping = true;\n    },\n    is,\n  },\n  methods: {\n    sendMessage() {\n      if (this.message != \"\") {\n        this.socket.emit(\"message\", this.message);\n        this.chat.push({ username: this.username, message: this.message });\n        this.message = \"\";\n      }\n    },\n    typing() {\n      //Emit typing\n      this.isTyping = \"true\";\n      //this.notTyping();\n    },\n    notTyping() {\n      //Emit typing\n      this.isTyping = \"false\";\n    },\n  },\n};\n</script>\n\n<template>\n  <v-container fluid>\n    {{ isTyping }}\n    <h1>Register as {{ username }}</h1>\n    <MessagesChat :chat.sync=\"chat\"></MessagesChat>\n    <vue-typer text=\"Someone is writting...\"></vue-typer>\n    <v-form ref=\"form\" v-model=\"valid\" lazy-validation @submit=\"sendMessage\">\n      <v-footer padless absolute>\n        <v-container>\n          <v-row>\n            <v-textarea\n              filled\n              auto-grow\n              v-model=\"message\"\n              label=\"Send a Message\"\n              placeholder=\"Aa\"\n              outlined\n            ></v-textarea>\n            <v-btn depressed color=\"primary\" type=\"submit\"> Send </v-btn>\n          </v-row>\n        </v-container>\n        <v-col class=\"text-center\" cols=\"12\"> </v-col>\n      </v-footer>\n    </v-form>\n  </v-container>\n</template>\n\n"]},"metadata":{},"sourceType":"module"}